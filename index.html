<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="./iziToast/iziToast.min.css">
	
	<style>
		table {
			font-family: arial, sans-serif;
			border-collapse: collapse;
			width: 100%;
		}

		td,
		th {
			border: 1px solid #dddddd;
			text-align: left;
			padding: 8px;
		}

		tr:nth-child(even) {
			background-color: #dddddd;
		}
	</style>
</head>

<body>
	<div id="app">
		<button v-on:click="authenticateUser">Authenticate User</button>
		<div v-if="user">User:- {{ user.username }}</div><br /><br />
		<button v-on:click="getUserBalance">Refresh Balance</button>
		<div>My Balance:- {{ balance }} π</div><br />
		<input type="number" step="0.01" v-model="price">
		<div>Request Amount:- {{ price }} π</div>
		<button v-on:click="requestTransfer">Request Amount</button><br /><br />
		<div>Reward User</div>
		<button v-on:click="rewardUser">Reward User</button>
		<div v-if="transcationHistory.length > 0">
			<div>History:- </div>
			<table>
				<tr>
					<th>From</th>
					<th>To</th>
					<th>Type</th>
					<th>Reason</th>
					<th>Amount</th>
					<th>Date</th>
					<th>Status</th>
				</tr>
				<tr v-for="i in transcationHistory">
					<td>{{ i.from_username }}</td>
					<td>{{ i.to_username }}</td>
					<td>{{ i.type }}</td>
					<td>{{ i.reason }}</td>
					<td v-if="i.amount >= 0">+{{ i.amount }}</td>
					<td v-else>{{ i.amount }}</td>
					<td>{{ i.created_at }}</td>
					<td>{{ i.status }}</td>
				</tr>
			</table>
		</div>
	</div>
	<script src="https://downloads.minepi.com/sdk/v1/dev.js" type="text/javascript"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" type="text/javascript"></script>
	<script src="./iziToast/iziToast.min.js"></script>
	<script src="./script.js"></script>
</body>

</html>